webpackJsonp([1],{"1L8h":function(e,t){},"4wAC":function(e,t){},NHnr:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=l("7+uW"),r={name:"SelectTree",props:{value:{type:[String,Number,Array]},options:{type:Array,required:!0},width:String,placeholder:{type:String,default:"请选择"},size:{type:String,default:""},props:{type:Object,default:function(){return{value:"value",label:"label",children:"children"}}},multiple:{type:Boolean,default:!1},filterable:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1}},model:{prop:"value",event:"selected"},data:function(){return{labelModel:"",showStatus:!1,treeWidth:"auto",input:{focus:!1,clear:!1},inputHovering:!1}},created:function(){},mounted:function(){this.treeWidth=(this.width||this.$refs.input.$refs.input.clientWidth)-24+"px"},watch:{selectValue:function(e,t){}},computed:{selectValue:{get:function(){var e=this,t="",l=this.value;if(this.multiple){if(Array.isArray(l)&&l.length>0){var a=[];l.forEach(function(t){a.push(e.queryTree(e.options,t))}),t=a.join(",")}}else l&&(t=this.queryTree(this.options,l));return this.labelModel=t,this.value},set:function(e){this.$emit("selected",e)}},showClose:function(){var e=this.multiple?Array.isArray(this.value)&&this.value.length>0:void 0!==this.value&&null!==this.value&&""!==this.value;return this.clearable&&(this.inputHovering||this.showStatus||this.input.focus)&&e&&!this.disabled}},methods:{treeMouseDown:function(e){e.preventDefault()},inputInput:function(e){this.filterable&&(this.showStatus=!0,this.$refs.tree.filter(e))},inputClear:function(){this.input.clear=!0,this.multiple?(this.$refs.tree.setCheckedNodes([]),this.selectValue=[]):this.selectValue=""},clickInput:function(){this.disabled||(this.input.clear?(this.input.clear=!1,this.blurInput()):this.showStatus=!this.showStatus)},inputBlur:function(){this.showStatus=!1,this.input.focus=!1},focusInput:function(){this.$refs.input.focus()},blurInput:function(){this.$refs.input.blur()},onClickNode:function(e){if(this.multiple){var t=!this.$refs.tree.getCheckedKeys().includes(e[this.props.value]);this.$refs.tree.setChecked(e,t,!0),this.handleLabelValue()}else this.blurInput(),this.selectValue=e[this.props.value]},clickCheckbox:function(e,t){this.focusInput(),this.showStatus=!0;var l=t.checkedKeys,a=t.checkedNodes;this.handleLabelValue(a,l)},handleLabelValue:function(e,t){e=e||this.$refs.tree.getCheckedNodes(),t=t||this.$refs.tree.getCheckedKeys(),this.selectValue=t},filterNode:function(e,t){var l=this;return!e||e.split(",").some(function(e){return e&&t[l.props.label].includes(e)})},queryTree:function(e,t){var l=[];for(l=l.concat(e);l.length;){var a=l.shift();if(a[this.props.children]&&(l=l.concat(a[this.props.children])),a[this.props.value]===t)return a[this.props.label]}return""}}},i={render:function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("el-popover",{ref:"popover",attrs:{placement:"bottom-start",trigger:"manual",disabled:e.disabled},model:{value:e.showStatus,callback:function(t){e.showStatus=t},expression:"showStatus"}},[l("el-tree",{ref:"tree",staticClass:"select-tree",style:"min-width: "+e.treeWidth,attrs:{"highlight-current":"",data:e.options,props:e.props,"expand-on-click-node":!1,"filter-node-method":e.filterNode,"default-expand-all":!1,"show-checkbox":e.multiple,"node-key":e.props.value,"default-checked-keys":e.multiple&&Array.isArray(e.value)?e.value:[]},on:{"node-click":e.onClickNode,check:e.clickCheckbox},nativeOn:{mousedown:function(t){return e.treeMouseDown(t)}},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.node;return t.data,l("span",{},[e.multiple?l("span",{staticClass:"check_icon"},[l("i",{class:{indeterminate:a.indeterminate,checked:a.checked}})]):e._e(),e._v(" "),l("span",[e._v(e._s(a.label))])])}}])}),e._v(" "),l("el-input",{ref:"input",style:"width: "+e.width+"px",attrs:{slot:"reference",size:e.size,clearable:e.clearable,readonly:e.disabled,placeholder:e.placeholder},on:{clear:e.inputClear,input:e.inputInput,blur:e.inputBlur,focus:function(t){e.input.focus=!0}},nativeOn:{mouseenter:function(t){e.inputHovering=!0},mouseleave:function(t){e.inputHovering=!1},click:function(t){return e.clickInput(t)}},slot:"reference",model:{value:e.labelModel,callback:function(t){e.labelModel=t},expression:"labelModel"}},[l("i",{directives:[{name:"show",rawName:"v-show",value:!e.showClose,expression:"!showClose"}],class:["el-input__icon el-icon-arrow-down",{rotate:e.showStatus}],attrs:{slot:"suffix"},slot:"suffix"})])],1)},staticRenderFns:[]};var n=l("VU/8")(r,i,!1,function(e){l("4wAC")},"data-v-2dd41a2c",null).exports,s={name:"TreeSelect",props:{props:{type:Object,default:function(){return{value:"value",label:"label",children:"children"}}},options:{type:Array,default:function(){return[]}},value:{type:[String,Number,Array]},accordion:{type:Boolean,default:!1},size:String,multiple:{type:Boolean,default:!1},filterable:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},placeholder:String,checkStrictly:{type:Boolean,default:!1}},data:function(){return{}},computed:{showLabel:function(){var e=this,t="",l=this.value;if(this.multiple){if(Array.isArray(l)&&l.length>0){var a=[];l.forEach(function(t){a.push(e.queryTree(e.options,t))}),t=a.join(",")}}else l&&(t=this.queryTree(this.options,l));return t}},methods:{queryTree:function(e,t){var l=[];l=l.concat(e);for(var a="";l.length;){var r=l.shift();r[this.props.children]&&(l=l.concat(r[this.props.children])),r[this.props.value]===t&&(a=r[this.props.label])}return a},emitVal:function(e){e||(e=this.multiple?[]:""),this.$emit("input",e)},selectFocus:function(){this.$refs.tree.filter("")},selectFilter:function(e){return this.$refs.tree.filter(e),!0},treeFilter:function(e,t){var l=this;return!e||e.split(",").some(function(e){return e&&t[l.props.label].includes(e)})},nodeClick:function(e){this.multiple||(this.emitVal(e[this.props.value]),this.$refs.select.blur())},nodeCheck:function(e,t){this.emitVal(t.checkedKeys)}}},o={render:function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("el-select",{ref:"select",attrs:{value:e.showLabel,size:e.size,placeholder:e.placeholder,clearable:e.clearable,disabled:e.disabled,filterable:e.filterable,"filter-method":e.selectFilter},on:{focus:e.selectFocus,clear:e.emitVal}},[l("el-option",{attrs:{value:e.showLabel,label:e.showLabel}},[l("el-tree",{ref:"tree",attrs:{accordion:e.accordion,data:e.options,props:e.props,"node-key":e.props.value,"show-checkbox":e.multiple,"default-expanded-keys":e.multiple&&Array.isArray(e.value)?e.value:[e.value],"default-checked-keys":e.multiple&&Array.isArray(e.value)?e.value:[],"expand-on-click-node":!1,"check-strictly":e.checkStrictly,"filter-node-method":e.treeFilter},on:{"node-click":e.nodeClick,check:e.nodeCheck}})],1)],1)},staticRenderFns:[]};var u={name:"App",components:{SelectTree:n,TreeSelect:l("VU/8")(s,o,!1,function(e){l("1L8h")},"data-v-89591b9a",null).exports},data:function(){return{form:{value:"1",values:["1"],val:"-",vals:["-"]},treeValue:"1",treeOption:[{label:"一",value:"1",children:[{label:"一-1",value:"11"}]},{label:"er",value:"2",children:[{label:"er-1",value:"21"}]},{label:"略略略",value:"略略略",children:[{label:"略略略-1",value:"略略略---"},{label:"略略略-2",value:"略略略2---"},{label:"略-1",value:"-"},{label:"略-2",value:"2-"},{label:"1",value:"--"},{label:"2",value:"2---"},{label:"略略1",value:"略略--"},{label:"略略2",value:"略略2--"},{label:"略略略1",value:"略略略--"},{label:"略略略2",value:"略略略2--"},{label:"略-1",value:"略---"},{label:"略-2",value:"略2---"},{label:"略略-1",value:"略略---"},{label:"略略-2",value:"略略2---"}]}]}}},c={render:function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{attrs:{id:"app"}},[l("el-form",{attrs:{model:e.form,inline:""}},[l("el-form-item",{attrs:{label:"popper单选"}},[l("SelectTree",{attrs:{options:e.treeOption},model:{value:e.form.value,callback:function(t){e.$set(e.form,"value",t)},expression:"form.value"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"popper多选"}},[l("SelectTree",{attrs:{options:e.treeOption,multiple:""},model:{value:e.form.values,callback:function(t){e.$set(e.form,"values",t)},expression:"form.values"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"select单选"}},[l("TreeSelect",{attrs:{options:e.treeOption,filterable:""},model:{value:e.form.val,callback:function(t){e.$set(e.form,"val",t)},expression:"form.val"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"select多选"}},[l("TreeSelect",{attrs:{options:e.treeOption,multiple:"",filterable:""},model:{value:e.form.vals,callback:function(t){e.$set(e.form,"vals",t)},expression:"form.vals"}})],1)],1)],1)},staticRenderFns:[]};var p=l("VU/8")(u,c,!1,function(e){l("r1i/")},null,null).exports,h=l("zL8q"),f=l.n(h);l("tvR6");a.default.use(f.a),a.default.config.productionTip=!1,new a.default({el:"#app",components:{App:p},template:"<App/>"})},"r1i/":function(e,t){},tvR6:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.e7306d0cb1a304486f39.js.map